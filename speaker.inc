; Audio bits
; Degrees Celcius. 1. 2. 3. 4. 5. 6. 7. 8. 9. 10. 11. 12. 13. 14. 15. 16. 17. 18. 19. 
; 20. 30. 40. 50. 60. 70. 80. 90. 100. 200. 300. Ramp to soak. Preheat/Soak. Ramp to peak. 
; Reflow. Cooling. Start. Stop. Warning, critical temperature!. Didn't reach the temperature in 60 seconds. Process aborted.
; LisaV3 (https://text-to-speech-demo.ng.bluemix.net/)

; Command prompt
; Index file: computer_sender -Asw_index.asm -S2000 big_file.wav
; Program Audio: computer_sender â€“COM4 -W -V big_file.wav
cseg
; Approximate index of sounds in file 'big_file.wav'
sound_index:
    db 0x00, 0x00, 0x2b ; 0 
    db 0x00, 0x7c, 0x78 ; 1 
    db 0x00, 0xc1, 0x7b ; 2 
    db 0x01, 0x05, 0xa2 ; 3 
    db 0x01, 0x47, 0x18 ; 4 
    db 0x01, 0x8d, 0x45 ; 5 
    db 0x01, 0xd1, 0x5f ; 6 
    db 0x02, 0x1d, 0x26 ; 7 
    db 0x02, 0x6b, 0x8f ; 8 
    db 0x02, 0xa3, 0x89 ; 9 
    db 0x02, 0xac, 0xeb ; 10 
    db 0x02, 0xf6, 0x5d ; 11 
    db 0x03, 0x38, 0x9d ; 12 
    db 0x03, 0x89, 0x76 ; 13 
    db 0x03, 0xce, 0xe7 ; 14 
    db 0x04, 0x26, 0xcf ; 15 
    db 0x04, 0x81, 0xab ; 16 
    db 0x04, 0xdb, 0xb8 ; 17 
    db 0x05, 0x3c, 0x0a ; 18 
    db 0x05, 0xa1, 0x0c ; 19 
    db 0x05, 0xd3, 0x2b ; 20 
    db 0x05, 0xf5, 0xc6 ; 21 
    db 0x06, 0x53, 0x97 ; 22 
    db 0x06, 0x9e, 0x60 ; 23 
    db 0x06, 0xe3, 0x0b ; 24 
    db 0x07, 0x2b, 0xda ; 25 
    db 0x07, 0x7a, 0x79 ; 26 
    db 0x07, 0xd0, 0xbf ; 27 
    db 0x08, 0x26, 0xab ; 28 
    db 0x08, 0x6a, 0xd4 ; 29 
    db 0x08, 0xbe, 0x99 ; 30 
    db 0x09, 0x25, 0xd3 ; 31 
    db 0x09, 0x82, 0x22 ; 32 
    db 0x09, 0xe1, 0x2a ; 33 
    db 0x0a, 0x42, 0xee ; 34 
    db 0x0a, 0x4c, 0x5b ; 35 
    db 0x0a, 0xac, 0x61 ; 36 
    db 0x0a, 0xb5, 0x48 ; 37 
    db 0x0b, 0x14, 0x3e ; 38 
    db 0x0b, 0x1c, 0x8b ; 39 
    db 0x0b, 0x70, 0x2a ; 40 
    db 0x0b, 0xbb, 0x9a ; 41 
    db 0x0b, 0xed, 0x75 ; 42 
    db 0x0c, 0x0b, 0xd7 ; 43 
    db 0x0c, 0x54, 0xac ; 44 
    db 0x0c, 0x5a, 0x4b ; 45 
    db 0x0c, 0xa7, 0x4a ; 46 
    db 0x0d, 0x11, 0xfd ; 47 
    db 0x0d, 0xd8, 0xbb ; 48 
    db 0x0d, 0xf6, 0x28 ; 49 
    db 0x0e, 0xf2, 0x34 ; 50 
    db 0x0f, 0xcd, 0x31 ; 51 
    db 0x10, 0x32, 0x51 ; 52 
    db 0x10, 0x9e, 0x41 ; 53 
    db 0x11, 0x05, 0xa6 ; 54 
    db 0x11, 0x6b, 0xfb ; 55 
    db 0x11, 0xd0, 0x03 ; 56 
    db 0x12, 0x15, 0xa6 ; 57 
    db 0x12, 0x1c, 0x5a ; 58 
    db 0x12, 0x65, 0xdb ; 59 
    db 0x12, 0xcc, 0x16 ; 60 
    db 0x13, 0x1d, 0x16 ; 61 
    db 0x13, 0x38, 0xcf ; 62 
    db 0x13, 0xaa, 0xab ; 63 
    db 0x14, 0x10, 0xc7 ; 64 
    db 0x14, 0x6c, 0x53 ; 65 
    db 0x14, 0xdb, 0x11 ; 66 
    db 0x15, 0x0e, 0x69 ; 67 
    db 0x15, 0x4c, 0xa9 ; 68 
    db 0x15, 0x7b, 0xff ; 69 
    db 0x15, 0xb4, 0xcf ; 70 
    db 0x15, 0xe9, 0x69 ; 71 
    db 0x16, 0x24, 0x5e ; 72 
    db 0x16, 0x69, 0x12 ; 73 
    db 0x16, 0x95, 0xbd ; 74 
    db 0x16, 0xe0, 0x40 ; 75 
    db 0x17, 0x05, 0xdd ; 76 
    db 0x17, 0x45, 0x3a ; 77 
    db 0x17, 0x76, 0x6f ; 78 
    db 0x17, 0xb9, 0x44 ; 79 
    db 0x17, 0xe6, 0x8f ; 80 
    db 0x18, 0x40, 0x11 ; 81 
    db 0x18, 0xda, 0x30 ; 82 
    db 0x19, 0x17, 0xf7 ; 83 
    db 0x19, 0x37, 0xaa ; 84 
    db 0x19, 0x7d, 0xce ; 85 
    db 0x19, 0x98, 0x6f ; 86 
    db 0x19, 0xd9, 0x88 ; 87 
    db 0x19, 0xfe, 0xd7 ; 88 
    db 0x1a, 0x32, 0xfe ; 89 
    db 0x1a, 0x5f, 0xbb ; 90 
    db 0x1a, 0xa9, 0x31 ; 91 
    db 0x1a, 0xbd, 0x56 ; 92 
    db 0x1a, 0xdc, 0x8d ; 93 
    db 0x1b, 0x41, 0xee ; 94 
    db 0x1b, 0x7c, 0xba ; 95 
    db 0x1b, 0xa0, 0x95 ; 96 
    db 0x1c, 0x06, 0x6f ; 97 
    db 0x1c, 0x7d, 0xf1 ; 98 
    db 0x1c, 0xf5, 0xf0 ; 99 
    db 0x1d, 0x0a, 0x20 ; 100 
    db 0x1d, 0x6e, 0xb6 ; 101 
    db 0x1d, 0xf9, 0x0c ; 102 
    db 0x1e, 0x3f, 0x90 ; 103 
    db 0x1e, 0x77, 0xaa ; 104 
    db 0x1e, 0x8e, 0x02 ; 105 
    db 0x1e, 0xdb, 0xbb ; 106 
    db 0x1e, 0xe9, 0x3d ; 107 
    db 0x1e, 0xfe, 0xad ; 108 
    db 0x1f, 0x18, 0xad ; 109 
    db 0x1f, 0x2d, 0x48 ; 110 
    db 0x1f, 0xae, 0x40 ; 111 
    db 0x1f, 0xdf, 0xa6 ; 112 
    db 0x1f, 0xf8, 0xcc ; 113 
    db 0x20, 0x15, 0xd5 ; 114 
    db 0x20, 0x24, 0xc2 ; 115 
    db 0x20, 0x9e, 0x83 ; 116 
    db 0x20, 0xfc, 0x21 ; 117 
    db 0x21, 0x75, 0x04 ; 118 
    db 0x21, 0x90, 0x9b ; 119 
    db 0x21, 0x9d, 0xd6 ; 120 
    db 0x21, 0xd9, 0xe6 ; 121 
    db 0x21, 0xf0, 0x0d ; 122 
    db 0x22, 0x00, 0x51 ; 123 
    db 0x22, 0x50, 0x5c ; 124 
    db 0x22, 0xc7, 0x16 ; 125 
    db 0x23, 0x5d, 0xd4 ; 126 
    db 0x24, 0x05, 0x48 ; 127 
    db 0x24, 0x4f, 0x0e ; 128 
    db 0x24, 0xc7, 0x67 ; 129 
    db 0x25, 0x83, 0xb8 ; 130 
    db 0x25, 0xd0, 0x56 ; 131 
    db 0x26, 0x35, 0x3f ; 132 
    db 0x26, 0x88, 0x7c ; 133 
    db 0x26, 0xd7, 0xa7 ; 134 
    db 0x27, 0x28, 0x01 ; 135 
    db 0x27, 0x7b, 0x9f ; 136 
    db 0x27, 0xd0, 0x40 ; 137 
    db 0x28, 0x0d, 0x8c ; 138 
    db 0x28, 0x56, 0x5a ; 139 
    db 0x28, 0x8a, 0xec ; 140 
    db 0x28, 0xd4, 0x5f ; 141 
    db 0x29, 0x16, 0x2f ; 142 
    db 0x29, 0x69, 0x86 ; 143 
    db 0x29, 0xc3, 0x87 ; 144 
    db 0x2a, 0x19, 0xa1 ; 145 
    db 0x2a, 0x6b, 0x2c ; 146 
    db 0x2a, 0xc0, 0xd7 ; 147 
    db 0x2b, 0x1a, 0x6b ; 148 
    db 0x2b, 0x70, 0xa4 ; 149 
    db 0x2b, 0xb3, 0x44 ; 150 
    db 0x2b, 0xf2, 0xd8 ; 151 
    db 0x2c, 0x39, 0xda ; 152 
    db 0x2c, 0x7c, 0xdd ; 153 
    db 0x2c, 0xcb, 0x65 ; 154 
    db 0x2d, 0x17, 0xd7 ; 155 
    db 0x2d, 0x5e, 0xff ; 156 
    db 0x2d, 0xaa, 0x68 ; 157 
    db 0x2d, 0xf9, 0x2f ; 158 
    db 0x2e, 0x4e, 0x0e ; 159 
    db 0x2e, 0xa3, 0x31 ; 160 
    db 0x2f, 0x2a, 0x14 ; 161 
    db 0x2f, 0x95, 0x3b ; 162 
    db 0x2f, 0xdb, 0x3c ; 163 
    db 0x30, 0x7c, 0x42 ; 164 
    db 0x30, 0xda, 0x9b ; 165 
    db 0x31, 0x26, 0xc9 ; 166 
    db 0x31, 0xa3, 0xf2 ; 167 
    db 0x32, 0x7b, 0xcc ; 168 
    db 0x33, 0x9c, 0xd9 ; 169 
    db 0x34, 0x51, 0x1f ; 170 
    db 0x34, 0xb2, 0x7b ; 171 
    db 0x35, 0x24, 0x8d ; 172 
    db 0x35, 0x7e, 0x0d ; 173 
    db 0x36, 0x09, 0x4a ; 174 
    db 0x36, 0x82, 0xf6 ; 175 
    db 0x36, 0xb9, 0xf7 ; 176 
    db 0x37, 0x09, 0xfa ; 177 
    db 0x37, 0x34, 0x26 

; Size of each sound in 'sound_index'
Size_sound:
    db 0x00, 0x7c, 0x4d ; 0 
    db 0x00, 0x45, 0x03 ; 1 
    db 0x00, 0x44, 0x27 ; 2 
    db 0x00, 0x41, 0x76 ; 3 
    db 0x00, 0x46, 0x2d ; 4 
    db 0x00, 0x44, 0x1a ; 5 
    db 0x00, 0x4b, 0xc7 ; 6 
    db 0x00, 0x4e, 0x69 ; 7 
    db 0x00, 0x37, 0xfa ; 8 
    db 0x00, 0x09, 0x62 ; 9 
    db 0x00, 0x49, 0x72 ; 10 
    db 0x00, 0x42, 0x40 ; 11 
    db 0x00, 0x50, 0xd9 ; 12 
    db 0x00, 0x45, 0x71 ; 13 
    db 0x00, 0x57, 0xe8 ; 14 
    db 0x00, 0x5a, 0xdc ; 15 
    db 0x00, 0x5a, 0x0d ; 16 
    db 0x00, 0x60, 0x52 ; 17 
    db 0x00, 0x65, 0x02 ; 18 
    db 0x00, 0x32, 0x1f ; 19 
    db 0x00, 0x22, 0x9b ; 20 
    db 0x00, 0x5d, 0xd1 ; 21 
    db 0x00, 0x4a, 0xc9 ; 22 
    db 0x00, 0x44, 0xab ; 23 
    db 0x00, 0x48, 0xcf ; 24 
    db 0x00, 0x4e, 0x9f ; 25 
    db 0x00, 0x56, 0x46 ; 26 
    db 0x00, 0x55, 0xec ; 27 
    db 0x00, 0x44, 0x29 ; 28 
    db 0x00, 0x53, 0xc5 ; 29 
    db 0x00, 0x67, 0x3a ; 30 
    db 0x00, 0x5c, 0x4f ; 31 
    db 0x00, 0x5f, 0x08 ; 32 
    db 0x00, 0x61, 0xc4 ; 33 
    db 0x00, 0x09, 0x6d ; 34 
    db 0x00, 0x60, 0x06 ; 35 
    db 0x00, 0x08, 0xe7 ; 36 
    db 0x00, 0x5e, 0xf6 ; 37 
    db 0x00, 0x08, 0x4d ; 38 
    db 0x00, 0x53, 0x9f ; 39 
    db 0x00, 0x4b, 0x70 ; 40 
    db 0x00, 0x31, 0xdb ; 41 
    db 0x00, 0x1e, 0x62 ; 42 
    db 0x00, 0x48, 0xd5 ; 43 
    db 0x00, 0x05, 0x9f ; 44 
    db 0x00, 0x4c, 0xff ; 45 
    db 0x00, 0x6a, 0xb3 ; 46 
    db 0x00, 0xc6, 0xbe ; 47 
    db 0x00, 0x1d, 0x6d ; 48 
    db 0x00, 0xfc, 0x0c ; 49 
    db 0x00, 0xda, 0xfd ; 50 
    db 0x00, 0x65, 0x20 ; 51 
    db 0x00, 0x6b, 0xf0 ; 52 
    db 0x00, 0x67, 0x65 ; 53 
    db 0x00, 0x66, 0x55 ; 54 
    db 0x00, 0x64, 0x08 ; 55 
    db 0x00, 0x45, 0xa3 ; 56 
    db 0x00, 0x06, 0xb4 ; 57 
    db 0x00, 0x49, 0x81 ; 58 
    db 0x00, 0x66, 0x3b ; 59 
    db 0x00, 0x51, 0x00 ; 60 
    db 0x00, 0x1b, 0xb9 ; 61 
    db 0x00, 0x71, 0xdc ; 62 
    db 0x00, 0x66, 0x1c ; 63 
    db 0x00, 0x5b, 0x8c ; 64 
    db 0x00, 0x6e, 0xbe ; 65 
    db 0x00, 0x33, 0x58 ; 66 
    db 0x00, 0x3e, 0x40 ; 67 
    db 0x00, 0x2f, 0x56 ; 68 
    db 0x00, 0x38, 0xd0 ; 69 
    db 0x00, 0x34, 0x9a ; 70 
    db 0x00, 0x3a, 0xf5 ; 71 
    db 0x00, 0x44, 0xb4 ; 72 
    db 0x00, 0x2c, 0xab ; 73 
    db 0x00, 0x4a, 0x83 ; 74 
    db 0x00, 0x25, 0x9d ; 75 
    db 0x00, 0x3f, 0x5d ; 76 
    db 0x00, 0x31, 0x35 ; 77 
    db 0x00, 0x42, 0xd5 ; 78 
    db 0x00, 0x2d, 0x4b ; 79 
    db 0x00, 0x59, 0x82 ; 80 
    db 0x00, 0x9a, 0x1f ; 81 
    db 0x00, 0x3d, 0xc7 ; 82 
    db 0x00, 0x1f, 0xb3 ; 83 
    db 0x00, 0x46, 0x24 ; 84 
    db 0x00, 0x1a, 0xa1 ; 85 
    db 0x00, 0x41, 0x19 ; 86 
    db 0x00, 0x25, 0x4f ; 87 
    db 0x00, 0x34, 0x27 ; 88 
    db 0x00, 0x2c, 0xbd ; 89 
    db 0x00, 0x49, 0x76 ; 90 
    db 0x00, 0x14, 0x25 ; 91 
    db 0x00, 0x1f, 0x37 ; 92 
    db 0x00, 0x65, 0x61 ; 93 
    db 0x00, 0x3a, 0xcc ; 94 
    db 0x00, 0x23, 0xdb ; 95 
    db 0x00, 0x65, 0xda ; 96 
    db 0x00, 0x77, 0x82 ; 97 
    db 0x00, 0x77, 0xff ; 98 
    db 0x00, 0x14, 0x30 ; 99 
    db 0x00, 0x64, 0x96 ; 100 
    db 0x00, 0x8a, 0x56 ; 101 
    db 0x00, 0x46, 0x84 ; 102 
    db 0x00, 0x38, 0x1a ; 103 
    db 0x00, 0x16, 0x58 ; 104 
    db 0x00, 0x4d, 0xb9 ; 105 
    db 0x00, 0x0d, 0x82 ; 106 
    db 0x00, 0x15, 0x70 ; 107 
    db 0x00, 0x1a, 0x00 ; 108 
    db 0x00, 0x14, 0x9b ; 109 
    db 0x00, 0x80, 0xf8 ; 110 
    db 0x00, 0x31, 0x66 ; 111 
    db 0x00, 0x19, 0x26 ; 112 
    db 0x00, 0x1d, 0x09 ; 113 
    db 0x00, 0x0e, 0xed ; 114 
    db 0x00, 0x79, 0xc1 ; 115 
    db 0x00, 0x5d, 0x9e ; 116 
    db 0x00, 0x78, 0xe3 ; 117 
    db 0x00, 0x1b, 0x97 ; 118 
    db 0x00, 0x0d, 0x3b ; 119 
    db 0x00, 0x3c, 0x10 ; 120 
    db 0x00, 0x16, 0x27 ; 121 
    db 0x00, 0x10, 0x44 ; 122 
    db 0x00, 0x50, 0x0b ; 123 
    db 0x00, 0x76, 0xba ; 124 
    db 0x00, 0x96, 0xbe ; 125 
    db 0x00, 0xa7, 0x74 ; 126 
    db 0x00, 0x49, 0xc6 ; 127 
    db 0x00, 0x78, 0x59 ; 128 
    db 0x00, 0xbc, 0x51 ; 129 
    db 0x00, 0x4c, 0x9e ; 130 
    db 0x00, 0x64, 0xe9 ; 131 
    db 0x00, 0x53, 0x3d ; 132 
    db 0x00, 0x4f, 0x2b ; 133 
    db 0x00, 0x50, 0x5a ; 134 
    db 0x00, 0x53, 0x9e ; 135 
    db 0x00, 0x54, 0xa1 ; 136 
    db 0x00, 0x3d, 0x4c ; 137 
    db 0x00, 0x48, 0xce ; 138 
    db 0x00, 0x34, 0x92 ; 139 
    db 0x00, 0x49, 0x73 ; 140 
    db 0x00, 0x41, 0xd0 ; 141 
    db 0x00, 0x53, 0x57 ; 142 
    db 0x00, 0x5a, 0x01 ; 143 
    db 0x00, 0x56, 0x1a ; 144 
    db 0x00, 0x51, 0x8b ; 145 
    db 0x00, 0x55, 0xab ; 146 
    db 0x00, 0x59, 0x94 ; 147 
    db 0x00, 0x56, 0x39 ; 148 
    db 0x00, 0x42, 0xa0 ; 149 
    db 0x00, 0x3f, 0x94 ; 150 
    db 0x00, 0x47, 0x02 ; 151 
    db 0x00, 0x43, 0x03 ; 152 
    db 0x00, 0x4e, 0x88 ; 153 
    db 0x00, 0x4c, 0x72 ; 154 
    db 0x00, 0x47, 0x28 ; 155 
    db 0x00, 0x4b, 0x69 ; 156 
    db 0x00, 0x4e, 0xc7 ; 157 
    db 0x00, 0x54, 0xdf ; 158 
    db 0x00, 0x55, 0x23 ; 159 
    db 0x00, 0x86, 0xe3 ; 160 
    db 0x00, 0x6b, 0x27 ; 161 
    db 0x00, 0x46, 0x01 ; 162 
    db 0x00, 0xa1, 0x06 ; 163 
    db 0x00, 0x5e, 0x59 ; 164 
    db 0x00, 0x4c, 0x2e ; 165 
    db 0x00, 0x7d, 0x29 ; 166 
    db 0x00, 0xd7, 0xda ; 167 
    db 0x01, 0x21, 0x0d ; 168 
    db 0x00, 0xb4, 0x46 ; 169 
    db 0x00, 0x61, 0x5c ; 170 
    db 0x00, 0x72, 0x12 ; 171 
    db 0x00, 0x59, 0x80 ; 172 
    db 0x00, 0x8b, 0x3d ; 173 
    db 0x00, 0x79, 0xac ; 174 
    db 0x00, 0x37, 0x01 ; 175 
    db 0x00, 0x50, 0x03 ; 176 
    db 0x00, 0x2a, 0x2c ; 177 

; The sound and its length from the two tables above is passed in the accumulator.
Play_Sound_Using_Index:

	setb SOUND ; Turn speaker on
	clr TMOD20 ; Stop the CCU from playing previous request
	setb FLASH_CE
	
	; There are three bytes per row in our tables, so multiply index by three
	mov b, #3
	mul ab
	mov R0, a ; Make a copy of the index*3
	
	clr FLASH_CE ; Enable SPI Flash
	mov a, #READ_BYTES
	lcall Send_SPI
	; Set the initial position in memory of where to start playing
	mov dptr, #sound_index
	mov a, R0
	movc a, @a+dptr
	lcall Send_SPI
	inc dptr
	mov a, R0
	movc a, @a+dptr
	lcall Send_SPI
	inc dptr
	mov a, R0
	movc a, @a+dptr
	lcall Send_SPI
	; Now set how many bytes to play
	mov dptr, #Size_sound
	mov a, R0
	movc a, @a+dptr
	mov w+2, a
	inc dptr
	mov a, R0
	movc a, @a+dptr
	mov w+1, a
	inc dptr
	mov a, R0
	movc a, @a+dptr
	mov w+0, a
	
	mov a, #0x00 ; Request first byte to send to DAC
	lcall Send_SPI
	
	setb TMOD20 ; Start playback by enabling CCU timer

	ret
